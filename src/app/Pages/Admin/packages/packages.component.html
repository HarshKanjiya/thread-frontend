<div class="flex flex-col gap-2 w-full p-3 sm:p-5 h-full">
  <div
    class="w-full flex items-center justify-between sticky top-0 backdrop-blur-md"
  >
    <div class="flex items-center gap-3">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        class="stroke-neutral-600 dark:stroke-white h-6 w-6"
      >
        <path d="m7.5 4.27 9 5.15" />
        <path
          d="M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"
        />
        <path d="m3.3 7 8.7 5 8.7-5" />
        <path d="M12 22V12" />
      </svg>
      <h1 class="text-2xl font-semibold text-gray-800 dark:text-white">
        Packages
      </h1>
    </div>

    <button
      (click)="openPopUp()"
      class="flex items-center gap-3 rounded-md dark:bg-gray-800 bg-gray-200 px-3 py-2"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        class="stroke-neutral-600 dark:stroke-white h-5 w-5"
      >
        <path d="M5 12h14" />
        <path d="M12 5v14" />
      </svg>
      <p class="hidden sm:block">Add new</p>
    </button>
  </div>

  <div class="h-full flex-1 w-full">
    <div class="flex flex-col gap-3 h-full w-full">
      <div class="flex flex-col">
        <p class="text-md text-gray-700 dark:text-gray-300">
          Thease are all packages that users can purchase to enhance their
          Experiance.
        </p>
        <p class="text-sm text-gray-600 dark:text-gray-600">
          User will only be able to see Active packages.
        </p>
      </div>

      <div class="flex gap-3">
        <button
          [disabled]="loading"
          (click)="setFilterType('ACTIVE')"
          class="px-3 py-1.5 rounded-md flex items-center gap-2 transition-all duration-200 disabled:opacity-50 {{
            filterType === 'ACTIVE'
              ? 'bg-emerald-500'
              : 'bg-gray-200 dark:bg-gray-800/60'
          }}"
        >
          <div
            class="w-2 h-2 bg-emerald-500 rounded-full ring ring-gray-200 dark:ring-gray-800"
          ></div>
          <p
            class="transition-all duration-200 {{
              filterType === 'ACTIVE' ? 'text-white' : ''
            }} "
          >
            Active
          </p>
        </button>
        <button
          [disabled]="loading"
          (click)="setFilterType('INACTIVE')"
          class="px-3 py-1.5 rounded-md flex items-center gap-2 transition-all duration-200 disabled:opacity-50 {{
            filterType === 'INACTIVE'
              ? 'bg-gray-500'
              : 'bg-gray-200 dark:bg-gray-800/60'
          }}"
        >
          <div
            class="w-2 h-2 bg-gray-500 rounded-full ring ring-gray-200 dark:ring-gray-800"
          ></div>
          <p
            class="transition-all duration-200 {{
              filterType === 'INACTIVE' ? 'text-white' : ''
            }} "
          >
            Inactive
          </p>
        </button>
        <button
          [disabled]="loading"
          (click)="setFilterType('DRAFTS')"
          class="px-3 py-1.5 rounded-md flex items-center gap-2 transition-all duration-200 disabled:opacity-50 {{
            filterType === 'DRAFTS'
              ? 'bg-yellow-500'
              : 'bg-gray-200 dark:bg-gray-800/60'
          }}"
        >
          <div
            class="w-2 h-2 bg-yellow-500 rounded-full ring ring-gray-200 dark:ring-gray-800"
          ></div>
          <p
            class="transition-all duration-200 {{
              filterType === 'DRAFTS' ? 'text-white' : ''
            }} "
          >
            Drafts
          </p>
        </button>
        <button
          [disabled]="loading"
          (click)="setFilterType('ALL')"
          class="px-3 py-1.5 rounded-md flex items-center gap-2 transition-all duration-200 disabled:opacity-50 {{
            filterType === 'ALL'
              ? 'bg-purple-400'
              : 'bg-gray-200 dark:bg-gray-800/60'
          }}"
        >
          <div
            class="w-2 h-2 bg-purple-400 rounded-full ring ring-gray-200 dark:ring-gray-800"
          ></div>
          <p
            class="transition-all duration-200 {{
              filterType === 'ALL' ? 'text-white' : ''
            }} "
          >
            All
          </p>
        </button>
      </div>

      <div
        class="w-full h-full overflow-x-hidden overflow-y-auto flex flex-wrap"
      >
        @if(packages.length > 0){ @for (item of packages; track $index) {
        <div
          routerLink="{{ item.PackageId }}"
          @initAnim
          class="relative h-36 w-36 flex items-center justify-center overflow-hidden"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="h-36 w-36 fill-current text-gray-800 -z-0"
          >
            <path
              d="M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z"
            />
          </svg>
          <p
            class="absolute origin-center top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"
          >
            {{ item.PackageName }}
          </p>
        </div>
        } }@else { @if(loading){
        <loader class="w-full" />
        }@else {
        <no-data-found class="w-full" message="Packages not found!" />
        } }
      </div>
    </div>
  </div>
</div>
